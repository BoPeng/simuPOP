version=pmwiki-2.1.14 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.8.0.6) Gecko/20060728 SUSE/1.5.0.6-1.3 Firefox/1.5.0.6
author=Pm
csum=adjust note
host=24.1.26.255
name=PmWiki.PathVariables
rev=28
targets=PmWiki.Variables,PmWiki.LocalCustomizations,PmWiki.PerGroupCustomization,PmWiki.WikiFarms,PmWiki.LayoutVariables,PmWiki.LinkVariables,PmWiki.EditVariables,PmWiki.UploadVariables
text=%3c%3c|[[PmWiki.Variables]]|>>%0a%0aWhen dealing with file or path variables, one has to recognize the difference between working with URLs and files on disk.  For example:%0a* The include() statements are used to include other files (on disk) into the currently running PmWiki script.  Thus they require paths on the server's filesystem. %0a* The $ScriptUrl and $PubDirUrl variables are used to tell a ''browser'', connecting via the webserver, how to execute the pmwiki script ($ScriptUrl) and the base url for getting files from PmWiki's pub/ directory ($PubDirUrl).%0a%0aNote that a browser needs a URL (http://www.example.com/pmwiki/pub) while an include statement requires a server file path ($FarmD/scripts/something.php).%0a%0a:$FarmD:The directory on the server where the farm is located (i.e., the directory containing the farm's copy of ''pmwiki.php'' and the ''scripts/'' directory).  This directory is automatically determined by pmwiki.php when it runs, and can be used to distinguish the farm's ''cookbook/'' and ''pub/'' subdirectories from a field's subdirectories.%0a%0a:$FarmPubDirUrl:is the url that refers to the @@pub@@ directory for an entire farm. It defaults to the same value as $PubDirUrl. %0a%0a:$PageCSSListFmt:is an associative array which PmWiki uses to find any local css configuration files. It consists of a set of (''key'',''value'') pairs. The ''key'' is a possible path to a file on disk holding the css data, while the ''value'' is the coresponding URL for that file. They keys are tested in turn, and for each named file that exists, the browser is instructed to load the corresponding URL. The default value for this variable is:%0a%0a        array( %0a          'pub/css/local.css' => '$PubDirUrl/css/local.css',%0a          'pub/css/{$Group}.css' => '$PubDirUrl/css/{$Group}.css',%0a          'pub/css/{$FullName}.css' => '$PubDirUrl/css/{$FullName}.css');%0a%0a->Note that the default (as of version pmwiki-2.1.beta26) makes no reference to $FarmPubDirUrl. If you wish to be able to place css configuration files in both the field's @@pub@@ directory, and the farm's @@pub@@ directory, you may want to add these lines to your @@local/config.php@@ file (as described in [[Cookbook:SharedPages]]):%0a%0a        $PageCSSListFmt = array(%0a          '$FarmD/pub/css/local.css' => '$FarmPubDirUrl/css/local.css',%0a          '$FarmD/pub/css/$Group.css' => '$FarmPubDirUrl/css/$Group.css',%0a          '$FarmD/pub/css/$FullName.css' => '$FarmPubDirUrl/css/$FullName.css',%0a          'pub/css/local.css' => '$PubDirUrl/css/local.css',%0a          'pub/css/$Group.css' => '$PubDirUrl/css/$Group.css',%0a          'pub/css/$FullName.css' => '$PubDirUrl/css/$FullName.css');%0a%0a:$PubDirUrl: is the URL that refers to the @@pub@@ directory. That directory contains all the files and subdirectories that must be directly accessible from a browser (e.g. CSS and HTML files). Most prominent here is the @@skins@@ subdirectory.%0a%0a:$ScriptUrl: is the URL that you want people's browsers to use when accessing PmWiki, either as a field or farm.  It's used whenever PmWiki needs to generate a link to another PmWiki page or action. PmWiki is usually fairly good about "guessing" the correct value for $ScriptUrl on its own, but sometimes an admin needs to set it explicitly because of URL manipulations by the webserver (such as Cookbook:CleanUrls, mod_rewrite, bizarre PHP configurations, and so on).%0a%0a:$SkinDirUrl:Set by ''scripts/skins.php'' to be the base url of the current skin's directory (i.e., within a 'pub/skins/' directory).  This variable is typically used inside of a skin .tmpl file to provide access to .css files and graphic images associated with the skin.%0a%0a:$WorkDir:%0a: :This variable is a string that gives a local path to a directory where the pmwiki engine can create temporary files etc. PmWiki needs this for a variety of things, such as building merged edits, caching mailposts entries, keeping track of the last modification time of the site, other types of cache, etc.  Do not confuse this variable with $WikiDir; the reason that both $WorkDir and $WikiDir refer by default to the directory [@wiki.d/@] is merely to simplify things for the administrator. %0a%0a:$WikiDir: %0a: :$WikiDir is a `PageStore-object that refers to how wiki pages are stored. This can be a simple reference to a directory (typically ''wiki.d/''), or something more advanced such as a `MySQL backend or a .dbm-file.  Do not confuse this variable with $WorkDir; the reason that both $WorkDir and $WikiDir refer by default to the directory [@wiki.d/@] is merely to simplify things for the administrator.%0a%0a:$WikiLibDirs:%0a: :$WikiLibDirs is an array of `PageStore objects that specify where to look for pages.  By default it is set up to look in ''wiki.d/'' and ''wikilib.d/'', but can be changed to look other places.  For example, to exclude the pages that are bundled in the PmWiki distribution, use the line below.  (Note that some features such as editing and search rely on having certain pages available, so you may need to copy them to the $WikiDir.)%0a        $WikiLibDirs = array(&$WikiDir);%0a%0a:$LocalDir:The filesystem location of the ''local/'' directory, holding [[local customization(s)]] and [[per group customization]] files.  Typically set in a [[WikiFarm(s)]]'s ''farmconfig.php''.  (Note that farm configuration files always occur in ''$FarmD/local/farmconfig.php'', regardless of any setting for $LocalDir.)%0a%0a%0a!!See also%0a* [[LayoutVariables]] for URL layout options%0a* [[LinkVariables]] - variables that control the display of links in pages%0a* [[EditVariables]] - variables used when editing pages%0a* [[UploadVariables]] - variables used for uploads/attachments%0a
time=1156519259
